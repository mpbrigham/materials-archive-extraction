# CONFIDENCE POLICY (V1)

## Thresholds
1. Trust threshold: confidence ≥ 0.9
2. Fallback threshold: 0.7 ≤ confidence < 0.9
3. Failure threshold: confidence < 0.7

## Enhanced MVS Approach
The system now implements a dynamic Minimum Viable Schema (MVS) approach:

1. Core MVS requirements:
   - name, brand, and summary must have confidence ≥ 0.7
   
2. Adaptive field selection:
   - When full extraction confidence is below the trust threshold (0.9)
   - LLM data processor evaluates all extracted fields
   - Dynamically selects optimal subset of high-confidence fields
   - Retains all fields with confidence ≥ 0.7
   - Prioritizes semantically coherent and interdependent fields

3. Decision logic:
   - If MVS fields all have high confidence (≥ 0.9): PROCEED with all fields
   - If MVS fields have mixed confidence (≥ 0.7): FALLBACK to optimized subset
   - If any MVS field has low confidence (< 0.7): FAIL

## Benefits of Dynamic MVS
- Maximizes information extraction from each document
- Adapts to the specific content quality in each document
- Preserves field relationships and dependencies
- Avoids arbitrary field exclusions
- Provides higher quality data for downstream use

## Implementation Notes
- Implemented in the LLM Data Processor agent
- Uses prompt-based processing rather than hard-coded rules
- Maintains the same state transitions and confidence thresholds
- Provides detailed explanations for decisions
- Works seamlessly with existing verifier pipeline